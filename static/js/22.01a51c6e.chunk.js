"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[22],{7022:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var a=t(8909),r=t(885),c=t(2791),s=t(9434),i=t(23),o=t(2007),u=t.n(o),d=t(3360),l="Contact_ripple__5bVqw",m="Contact_serchEl__iB-x1",h="Contact_deletBtn__z6G2-",f=t(184),p=function(e){var n=e.name,t=e.number,a=e.deleteEl,r=e.id,c=e.editEl;return(0,f.jsx)("div",{children:(0,f.jsxs)(i.Z.Item,{className:m,children:[n,": ",t,(0,f.jsx)(d.Z,{type:"button",className:"".concat(l," ").concat(h),onClick:function(){return a(r)},children:"Delete"}),(0,f.jsx)(d.Z,{variant:"primary",type:"button",className:"".concat(l," ").concat(h),onClick:function(){return c(r)},children:"Edit"})]})})};p.propType={id:u().string.isRequired,name:u().string.isRequired,number:u().number.isRequired,deleteEl:u().func.isRequired};var x=p,v=t(5861),C=t(7757),b=t.n(C),j=t(4569),Z=t.n(j),y=t(7396),g={fetchContacts:function(){return function(){var e=(0,v.Z)(b().mark((function e(n){var t,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,y.$0)()),e.prev=1,e.next=4,Z().get("/contacts");case 4:t=e.sent,a=t.data,n((0,y.v2)(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n((0,y.I7)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}()},addContact:function(e){return function(n){n((0,y.md)()),Z().post("/contacts",e).then((function(e){var t=e.data;return n((0,y.ff)(t))})).catch((function(e){return n((0,y.xZ)(e.message))}))}},deleteContact:function(e){return function(n){n((0,y.LF)()),Z().delete("/contacts/".concat(e)).then((function(){return n((0,y.uv)(e))})).catch((function(e){return n((0,y.EF)(e.message))}))}},editContact:function(e){var n=e.id,t=e.name,a=e.number;return function(e){var r={name:t,number:a};e((0,y.us)()),Z().patch("/contacts/".concat(n),r).then((function(n){var t=n.data;return e((0,y.FS)(t))})).catch((function(n){return e((0,y.cZ)(n.message))}))}}},_=g,w=t(4942),N=t(1413),k=t(1759);function F(e){var n=e.show,t=e.handleClose,a=e.editableItem,i=(0,c.useState)({id:a.id,name:a.name,number:a.number}),o=(0,r.Z)(i,2),u=o[0],l=o[1],m=(0,s.v9)((function(e){return e.contacts})),h=(0,s.I0)(),p=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":case"number":l((function(e){return(0,N.Z)((0,N.Z)({},e),{},(0,w.Z)({},t,a))}));break;default:return}};return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(k.Z,{show:n,onHide:t,children:[(0,f.jsx)(k.Z.Header,{closeButton:!0,children:(0,f.jsx)(k.Z.Title,{children:"Edit contact"})}),(0,f.jsx)(k.Z.Body,{children:(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:"Name"}),(0,f.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:u.name,onChange:p}),(0,f.jsx)("h2",{children:"Number"}),(0,f.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:u.number,onChange:p})]})}),(0,f.jsxs)(k.Z.Footer,{children:[(0,f.jsx)(d.Z,{variant:"secondary",onClick:t,children:"Cencel"}),(0,f.jsx)(d.Z,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault();var n,a=u.name;m.contacts.map((function(e){return e.name.toLowerCase().trim()})).find((function(e){return e===a.toLowerCase().trim()}))?alert("".concat(a," is already in Contacts")):(n=u,h(_.editContact(n))),t()},children:"Save Changes"})]})]})})}var E="ContactList_List__o-BBH";function L(){var e=(0,c.useState)(!1),n=(0,r.Z)(e,2),t=n[0],a=n[1],o=(0,c.useState)(),u=(0,r.Z)(o,2),d=u[0],l=u[1],m=function(e){a(!0);var n=p.find((function(n){return n.id===e}));l(n)},h=(0,s.I0)(),p=(0,s.v9)((function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(arguments.length>1?arguments[1]:void 0).toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))}(e.contacts.contacts,e.contacts.filter)})),v=function(e){return h(_.deleteContact(e))};return(0,c.useEffect)((function(){h(_.fetchContacts())}),[h]),(0,f.jsxs)("div",{children:[(0,f.jsx)(i.Z,{className:E,children:p.map((function(e){var n=e.id,t=e.name,a=e.number;return(0,f.jsx)(x,{id:n,name:t,number:a,deleteEl:v,editEl:m},n)}))}),(0,f.jsx)("div",{children:t&&(0,f.jsx)(F,{show:t,handleClose:function(){return a(!1)},editableItem:d})})]})}var q=t(3027),A="SearchForm_SearchForm__XekxT";function B(){var e=(0,s.v9)((function(e){return e.contacts.filter})),n=(0,s.I0)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(q.Z.Label,{htmlFor:"inputPassword5",className:A,children:"Find Contacts by Name"}),(0,f.jsx)(q.Z.Control,{type:"text",id:"inputPassword5",value:e,"aria-describedby":"passwordHelpBlock",onChange:function(e){return n(y.ZP.changeFilter(e.target.value))}}),(0,f.jsx)(q.Z.Text,{id:"passwordHelpBlock",muted:!0,children:"Start typing to find contact you need"})]})}var P="ContactForm_ContactForm__WW8Xl";function S(){var e=(0,c.useState)(""),n=(0,r.Z)(e,2),t=n[0],a=n[1],i=(0,c.useState)(""),o=(0,r.Z)(i,2),u=o[0],l=o[1],m=(0,s.v9)((function(e){return e.contacts})),h=(0,s.I0)(),p=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"name":a(r);break;case"number":l(r);break;default:return}},x=function(){a(""),l("")};return(0,f.jsx)(q.Z,{onSubmit:function(e){e.preventDefault();var n,a=e.target[0].value;m.contacts.map((function(e){return e.name.toLowerCase().trim()})).find((function(e){return e===a.toLowerCase().trim()}))?alert("".concat(a," is already in Contacts")):(n={name:t,number:u},h(_.addContact(n))),x()},className:P,children:(0,f.jsxs)("div",{children:[(0,f.jsxs)(q.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,f.jsx)(q.Z.Label,{children:"Name"}),(0,f.jsx)(q.Z.Control,{type:"text",placeholder:"Enter name",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:t,onChange:p}),(0,f.jsx)(q.Z.Text,{className:"text-muted",children:"Please enter your name"})]}),(0,f.jsxs)(q.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,f.jsx)(q.Z.Label,{children:"Number"}),(0,f.jsx)(q.Z.Control,{type:"tel",placeholder:"Enter phone number",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:u,onChange:p}),(0,f.jsx)(q.Z.Text,{className:"text-muted",children:"Please enter your phone number"})]}),(0,f.jsx)(d.Z,{variant:"primary",type:"submit",children:"Add contact"})]})})}S.propType={addContact:u().func.isRequired,arrayContact:u().array.isRequired};var I="ContactsPage_ListName__GV41G",z="ContactsPage_Table__nnHqK";function T(){return(0,f.jsx)("div",{children:(0,f.jsxs)(a.Z,{children:[(0,f.jsx)("h1",{children:"Phonebook"}),(0,f.jsxs)("div",{className:z,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:I,children:"Adding contacts"}),(0,f.jsx)(S,{})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:I,children:"Contacts list"}),(0,f.jsx)(B,{}),(0,f.jsx)(L,{})]})]})]})})}}}]);
//# sourceMappingURL=22.01a51c6e.chunk.js.map